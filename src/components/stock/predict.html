<!-- <div class="wrapper wrapper-content animated fadeInRight" ng-hide="$root.userNick == 'sam' || $root.userNick== 'bill' || $root.userNick== 'DAP' || $root.userNick== 'jack' ">
    <h3>預測模型正在改進中...... </h3>
</div> -->
<div class="wrapper wrapper-content animated fadeInRight" >
    <div class="row" ng-controller="PredictCrol">    
        <div class="col-lg-12" >
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>预测股票振幅前50 (实际观察日：{{obsDate}})</h5>
                    <div class="ibox-tools" >
                        上证指数： <span ng-class="shIndexVar>0?'stock-up':'stock-down'">{{shIndex[3]}} <i class="fa" ng-class="shIndexVar>0?'fa-level-up':'fa-level-down'"></i> {{shIndexVar|number:2  }} % </span> 振幅： {{indexVol | number : 2}} % 
                        
                    </div>
                    
                     
                </div>
                <div class="ibox-content col-lg-5" >            
                    <div class="table-responsive">

                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th></th> 
                                    <th>平均振幅</th>    
                                    <th>平均振幅/大盘振幅</th>
                                                                                                
                                </tr>
                            
                            </thead>
                            <tbody >

                                <tr>
                                    <td >前10名</td>
                                    <td >{{volTop.top10Mean |number:2}} %</td>
                                    <td >{{volTop.top10Mean/volTop.indexVol |number:2}} 倍</td>
                                </tr>
                                <tr>
                                    <td >前20名</td>
                                    <td >{{volTop.top20Mean |number:2}} %</td>
                                    <td >{{volTop.top20Mean/volTop.indexVol |number:2}} 倍</td>
                                </tr>
                                <tr>
                                    <td >前30名</td>
                                    <td >{{volTop.top30Mean |number:2}} %</td>
                                    <td >{{volTop.top30Mean/volTop.indexVol |number:2}} 倍</td>
                                </tr>
                                <tr>
                                    <td >前40名</td>
                                    <td >{{volTop.top40Mean |number:2}} %</td>
                                    <td >{{volTop.top40Mean/volTop.indexVol |number:2}} 倍</td>
                                </tr>
                            
                            </tbody>                            
                        </table>
                        
                    </div>

                </div>
                <highchart config="chartTopChart" class="trader-chart col-lg-7" style="height:250px"></highchart>
                <div class="ibox-content row">            
                    <div class="table-responsive col-lg-9" style="background-color: #F3F2EE;">
                        <h3 style="margin-top:15px">最近一日表现</h3>
                        <table class="table table-striped">
                            <thead>
                           <!--  <tr>
                                <th colspan="5"><div class="input-group"><input st-search="USER_ID" class="form-control" placeholder="Search User ID ..." type="text"/> <span class="input-group-btn" >
                                    <button type="button" class="btn btn-sm btn-primary"> Go!</button> </span></div></th>
                            </tr> -->
                            <tr>
                                <th>预测振幅排名</th>    
                                <th>股票代码</th>
                                <th >股票名字 </th>
                                <th >现价</th>
                                <th >涨跌</th>
                                <th >涨跌幅</th>
                                <th>实际振幅</th>
                               <!--  <th>昨日预测振幅</th> -->
                                <th>实际振幅/大盘振幅</th>
                                <th >成交量</th>
                                <!-- <th >市值</th> -->
                                <th >换手率</th>                                
                                <th>相关新闻</th>                                                                
                            </tr>
                            
                            </thead>
                            <tbody >

                                <tr ng-repeat="stock in obsList">
                                    <!-- <td >{{$index+1}}</td>
                                    <td ><a target="_blank" href="http://finance.ifeng.com/app/hq/stock/{{stock.stock_id.indexOf('6')==0?'sh':'sz'}}{{stock.stock_id}}">{{stock.stock_id}}</a></td>
                                    <td >{{stock.realtimeInfo.name}}</td>
                                    <td >{{stock.realtimeInfo.trade|number:2}}</td>
                                    <td  ng-class="stock.realtimeInfo.pricechange>0?'stock-up':'stock-down'">
                                    {{stock.realtimeInfo.pricechange|number:2}}</td>
                                    <td  ng-class="stock.realtimeInfo.pricechange>0?'stock-up':'stock-down'">{{stock.realtimeInfo.changepercent|number:2}}%</td>
                                    <td  style="font-weight:bold; color: purple">{{(stock.realtimeInfo.high - stock.realtimeInfo.low)/stock.realtimeInfo.open* 100|number:2}}%</td>                      
                                    <td  >{{((stock.realtimeInfo.high - stock.realtimeInfo.low)/stock.realtimeInfo.open* 100 / indexVol)|number:2}} 倍</td>
                                    <td >{{stock.realtimeInfo.volume/(100*10000) |number:2}} 万手</td>
                                    <td >{{stock.realtimeInfo.mktcap/10000|number:2}} 亿</td>
                                    <td >{{stock.realtimeInfo.turnoverratio|number:3}} %</td>
                                    
                                    <td ><a target="_blank" href="http://news.baidu.com/ns?word={{stock.realtimeInfo.name}}&sr=0&cl=2&rn=20&tn=news&ct=0&clk=sortbytime">相关新闻</a></td> -->
                                    <td >{{$index+1}}</td>
                                    <td ><a target="_blank" href="http://finance.ifeng.com/app/hq/stock/{{stock.stock_id.indexOf('6')==0?'sh':'sz'}}{{stock.stock_id}}">{{stock.stock_id}}</a></td>
                                    <td >{{stockName[stock.stock_id]}}</td>
                                    <td >{{stockHistMap[stock.stock_id]["today"][3]|number:2}}</td>
                                    <td  ng-class="parsestockHistMap[stock.stock_id]['today'][6]>0?'stock-up':'stock-down'">
                                    {{stockHistMap[stock.stock_id]["today"][6]|number:2}}</td>
                                    <td  ng-class="stockHistMap[stock.stock_id]['today'][6]>0?'stock-up':'stock-down'">{{stockHistMap[stock.stock_id]["today"][7]|number:2}}%</td>
                                    <td  style="font-weight:bold; color: purple">{{(stockHistMap[stock.stock_id]["today"][2] - stockHistMap[stock.stock_id]["today"][4])/stockHistMap[stock.stock_id]["last"][3]* 100|number:2}}%</td>

                                    <td  >{{((stockHistMap[stock.stock_id]["today"][2] - stockHistMap[stock.stock_id]["today"][4])/stockHistMap[stock.stock_id]["last"][3]* 100 / indexVol)|number:2}} 倍</td>
                                    <td >{{stockHistMap[stock.stock_id]["today"][5] |number:2}} 万手</td>
                                    <!-- <td >{{stock.realtimeInfo.mktcap/10000|number:2}} 亿</td> -->
                                    <td >{{stockHistMap[stock.stock_id]["today"][14]|number:3}} %</td>
                                    
                                    <td ><a target="_blank" href="http://news.baidu.com/ns?word={{stock.realtimeInfo.name}}&sr=0&cl=2&rn=20&tn=news&ct=0&clk=sortbytime">相关新闻</a></td>
                                    
                                </tr>
                            
                            </tbody>
                            <!-- <tfoot>
                                <tr>
                                    <td colspan="5" class="text-center">
                                        <div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div>
                                    </td>
                                </tr>
                            </tfoot> -->
                        </table>
                        
                    </div>
                    <div class="table-responsive col-lg-3" style="background-color: #FDE2E2;">
                        <h3 style="margin-top:15px">预测下一交易日振幅</h3>
                        <p ng-show="predictList.length == 0 "> 预测模型正在采集样本和计算中... ... </p>
                        <table class="table table-striped" ng-show="predictList.length > 0 ">
                            <thead>
                           
                            <tr>
                                <th>排名</th>    
                                <th>股票代码</th>
                                <th >股票名字 </th>                              
                                <th>預測振幅</th>
                                                                                           
                            </tr>
                            
                            </thead>
                            <tbody >

                                <tr ng-repeat="stock in predictList">
                                    <td >{{$index+1}}</td>
                                    <td ><a target="_blank" href="http://finance.ifeng.com/app/hq/stock/{{stock.stock_id.indexOf('6')==0?'sh':'sz'}}{{stock.stock_id}}">{{stock.stock_id}}</a></td>
                                    <td >{{stockName[stock.stock_id]}}</td>
                                    <td >{{stock.testPred|number:2}} ％</td>
                                    
                                    
                                </tr>
                            
                            </tbody>
                            <!-- <tfoot>
                                <tr>
                                    <td colspan="5" class="text-center">
                                        <div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div>
                                    </td>
                                </tr>
                            </tfoot> -->
                        </table>
                        
                    </div>

                </div>
            </div>  
        </div>
    </div>
</div>